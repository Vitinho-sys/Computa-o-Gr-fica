<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Computação Gráfica - Web (Flask)</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>
<body class="bg-light">
  <div class="container py-4">
    <div class="d-flex mb-3 align-items-center">
      <h3 class="me-auto">Computação Gráfica — versão Web (Flask)</h3>
      <a class="btn btn-outline-secondary" href="/enunciado" target="_blank">Enunciado (PDF)</a>
    </div>

    <div class="row g-3">
      <div class="col-md-4">
        <div class="card p-3 mb-3">
          <label class="form-label">Carregar imagem (PNG, JPG, BMP)</label>
          <input id="fileInput" type="file" class="form-control mb-2" accept="image/*">
          <div id="uploadInfo" class="small text-muted">Nenhum arquivo carregado</div>

          <div class="mt-3 d-grid gap-2">
            <button id="btnReduce75" class="btn btn-primary btn-sm">Reduzir 75%</button>
            <button id="btnReduce50" class="btn btn-primary btn-sm">Reduzir 50%</button>
            <button id="btnReduce25" class="btn btn-primary btn-sm">Reduzir 25%</button>
            <button id="btnWebp" class="btn btn-success btn-sm">Converter para WEBP</button>
            <button id="btnMirror" class="btn btn-warning btn-sm">Espelhamento Vertical</button>
            <button id="btnGray" class="btn btn-dark btn-sm">Converter para Tons de Cinza</button>
            <button id="btnAnalyse" class="btn btn-outline-secondary btn-sm">Gerar Histogramas / Estatísticas</button>
            <a id="btnReport" class="btn btn-outline-primary btn-sm" href="#" download>Baixar Relatório (TXT)</a>
          </div>
        </div>

        <div class="card p-3 small">
          <h6>Estrutura / Informações</h6>
          <ul id="structureList" class="list-unstyled mb-0"></ul>
          <pre id="statsArea" class="mb-0"></pre>
        </div>
      </div>

      <div class="col-md-8">
        <div class="card mb-3">
          <div class="card-body text-center">
            <img id="previewImg" src="" alt="Preview" style="max-width:100%; background:#222;" />
            <div id="dims" class="mt-2 small text-muted"></div>
          </div>
          <div class="card-footer small text-muted">Preview — os resultados gerados ficam disponíveis para download.</div>
        </div>

        <div class="card">
          <div class="card-body">
            <h6>Histogramas</h6>
            <div class="d-flex gap-2 flex-wrap">
              <img id="histR" src="" alt="Hist R" width="300" />
              <img id="histG" src="" alt="Hist G" width="300" />
              <img id="histB" src="" alt="Hist B" width="300" />
            </div>
            <div id="webpInfo" class="mt-2 small text-muted"></div>
          </div>
        </div>
      </div>
    </div>

    <footer class="mt-4 text-center small text-muted">Abra este site localmente. Resultados são salvos em <code>outputs/</code> na pasta do projeto.</footer>
  </div>

  <script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>
</html>
